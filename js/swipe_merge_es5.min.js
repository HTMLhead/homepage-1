/*!
 * Start Bootstrap - Agency v3.3.7+1 (http://startbootstrap.com/template-overviews/agency)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function _defaults(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var o=n[i],r=Object.getOwnPropertyDescriptor(e,o);r&&r.configurable&&void 0===t[o]&&Object.defineProperty(t,o,r)}return t}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":_typeof(e))&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":_typeof(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_cu={getFnName:function(t){if("function"==typeof t){var e=t.name?t.name:t.toString().match(/function\s+([^(\(|\s)]+)/)[1];return e}},setTranslate3dX:function(t,e){var n=this.getCSSName("transform");t.style[n]="translate3d("+e+"px, 0, 0)"},setTranslate3dXPercent:function(t,e){var n=this.getCSSName("transform");t.style[n]="translate3d("+e+"%, 0, 0)"},getWidth:function(t){var e=0;return e=t.getBoundingClientRect().width?t.getBoundingClientRect().width:t.offsetWidth},getCSSName:function(t){if("undefined"==typeof this.htCacheData&&(this.htCacheData={}),this.htCacheData[t])return this.htCacheData[t];var e={transition:["webkitTransition","transition"],transform:["webkitTransform","transform"]},n=e[t];if(!this.isExist(n))return null;for(var i=0,o=n.length;i<o;i++)if("string"==typeof document.body.style[n[i]])return this.htCacheData[t]=n[i],this.htCacheData[t]},getChildOrder:function(t){var e=t.parentNode,n=Array.prototype.indexOf.call(e.children,t);return n},getTranslate3dX:function(t){var e=this.getCSSName("transform"),n=t.style[e],i=0;return n.indexOf("%")===-1?i=+n.replace(/translate3d\((-*\d+(?:\.\d+)*)(px)*\,.+\)/g,"$1"):(i=+n.replace(/translate3d\((-*\d+(?:\.\d+)*)(%)*\,.+\)/g,"$1"),i=i/100*this.getWidth(t.firstElementChild)),i},getTranslate3dXPercent:function(t){var e=this.getCSSName("transform"),n=t.style[e],i=+n.replace(/translate3d\((-*\d+(?:\.\d+)*)(%)*\,.+\)/g,"$1");return i},getCSSTransitionEnd:function(){var t=this.getCSSName("transition"),e="webkitTransition"===t?"webkitTransitionEnd":"transitionend";return e},setDynamicHeight:function(t,e,n){n&&t++;var i=e.children[t],o=parseInt(getComputedStyle(i).height);e.style.height=o+"px"},setCSS:function(t,e,n){t.style[e]=n},showLayer:function(t){t.style.display="block"},closeLayer:function(t){t.style.display="none"},isExist:function(t){return null!=t},isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}},CommonComponent=function(){function t(e,n){_classCallCheck(this,t),this.htOption=n,this.htCacheData={},this.elTarget=e,this.init(n)}return t.prototype.init=function(t){this.setInitValue(),this.setOption(t,this._htDefaultOption,this.option),this.initValue(),this.registerEvents()},t.prototype.setInitValue=function(){var t=["FN_COMPONENT_DID_LOAD"],e=this.COMPONENT_CONFIG();this.bMainComponent=!!e.PLUGINS,this._htDefaultOption=e.DEFAULT_OPTION,this.aMyPluginName=e.PLUGINS,this.htDefaultFn=this.getDefaultCallbackList(t.concat(e.DEFAULT_COMPONENT_EVENT)),this.bMainComponent&&(this.htDefaultPluginFn=this.getDefaultCallbackList(t.concat(e.DEFAULT_PLUGIN_EVENT))),this.htUserFn={},this.htPluginFn={},this.option={}},t.prototype.registerUserMethod=function(t){this.setOption(t,this.htDefaultFn,this.htUserFn)},t.prototype.registerPluginMethod=function(t){this.appendPluginMethod(t,this.htDefaultPluginFn,this.htPluginFn)},t.prototype.onPlugins=function(t){this.initPlugins(this.aMyPluginName,t,this.elTarget),this.componentDidLoaded()},t.prototype.setOption=function(t,e,n){var i=this;Object.keys(e).forEach(function(o){if("undefined"==typeof t[o])n[o]=e[o];else{if("[object Object]"!==Object.prototype.toString.call(t[o]))return void(n[o]=t[o]);n[o]={},i.setOption.call(i,t[o],e[o],n[o])}})},t.prototype.appendPluginMethod=function(t,e,n){Object.keys(e).forEach(function(i){return Array.isArray(n[i])||(n[i]=[]),"undefined"!=typeof t[i]?void n[i].push(t[i]):void n[i].push(e[i])})},t.prototype.getDefaultCallbackList=function(t){var e={};return t.forEach(function(t){e[t]=function(){}}),e},t.prototype.initPlugins=function(t,e,n){var i=this,o=this;e.forEach(function(e){var r=e.name;if(!(t.indexOf(r)<0)){var s=new window[e.name](n,e.option);s.registerUserMethod(e.userMethod),i._injectParentObject(o,s)}})},t.prototype.componentDidLoaded=function(){this.runCustomFn("USER","FN_COMPONENT_DID_LOAD"),this.runCustomFn("PLUGIN","FN_COMPONENT_DID_LOAD")},t.prototype.runCustomFn=function(t,e){var n=[].slice.call(arguments,2),i=void 0;switch(t){case"USER":if("object"===_typeof(this.htUserFn)&&"function"==typeof this.htUserFn[e]){var o;i=(o=this.htUserFn)[e].apply(o,_toConsumableArray(n))}break;case"PLUGIN":"object"===_typeof(this.htPluginFn)&&"object"===_typeof(this.htPluginFn[e])&&this.htPluginFn[e].forEach(function(t){t.apply(void 0,_toConsumableArray(n))})}return i},t.prototype._injectParentObject=function(t,e){e.dockingPluginMethod(t)},t}(),SwipeNavigationPlugin=function(t){function e(n,i){return _classCallCheck(this,e),_possibleConstructorReturn(this,t.call(this,n,i))}return _inherits(e,t),e.prototype.COMPONENT_CONFIG=function(){return{SELECTOR:{},DEFAULT_COMPONENT_EVENT:[],DEFAULT_OPTION:{usage:!1,elNaviWrap:null,seletedClassName:"selected-swipe-li",nDuration:200,bMouseEventSupport:!1}}},e.prototype.initValue=function(){this.elPluginTarget,this.elNaviWrap=this.option.elNaviWrap,this.oParentInstance=null},e.prototype.registerEvents=function(){this.moveSwipeArea()},e.prototype.moveSwipeArea=function(){for(var t=this.option.elNaviWrap.querySelectorAll("li"),e=this,n=0;n<t.length;n++)t[n].addEventListener("touchend",function(t){e.moveparentSwipePanel(this)});if(this.option.bMouseEventSupport)for(var i=0;i<t.length;i++)t[i].addEventListener("click",function(t){e.moveparentSwipePanel(this)})},e.prototype.moveparentSwipePanel=function(t){var e=(this.oParentInstance.nSwipeWidth,_cu.getChildOrder(t)),n=(this.oParentInstance.getCurrentViewNumber()-e,e);this.oParentInstance.runSwipeAction(this.option.nDuration,n),this.highlightSelectedLI(e)},e.prototype.highlightSelectedLI=function(t){t++;var e=this.option.elNaviWrap.querySelector("."+this.option.seletedClassName),n=e.className;e.className=e.className.replace(n,""),this.option.elNaviWrap.querySelector("li:nth-child("+t+")").className+=" "+this.option.seletedClassName},e.prototype.dockingPluginMethod=function(t){t.registerPluginMethod({FN_BEFORE_SWIPE:this.highlightSelectedLI.bind(this),FN_AFTER_SWIPE:function(){}}),this.oParentInstance=t},e}(CommonComponent),SwipeStepMoverPlugin=function(t){function e(n,i){return _classCallCheck(this,e),_possibleConstructorReturn(this,t.call(this,n,i))}return _inherits(e,t),e.prototype.COMPONENT_CONFIG=function(){return{SELECTOR:{},DEFAULT_COMPONENT_EVENT:[],DEFAULT_OPTION:{prevButton:null,nextButton:null,nDuration:200}}},e.prototype.initValue=function(){this.elPluginTarget,this.elPrevBtn=this.option.prevButton,this.elNextBtn=this.option.nextButton,this.oParentInstance=null},e.prototype.registerEvents=function(){var t=this;this.elPrevBtn.addEventListener("click",function(e){t.handlerClickButton(e,"toLeft")}),this.elNextBtn.addEventListener("click",function(e){t.handlerClickButton(e,"toRight")})},e.prototype.handlerClickButton=function(t,e){if(!this.oParentInstance.bAnimationing){var n=this.oParentInstance.getCurrentViewNumber(),i=this.oParentInstance.option.bCircular;if(!i){if(0===n&&"toLeft"===e)return;if(n===this.oParentInstance.nSwipeElementCount-1&&"toRight"===e)return}var o=this.oParentInstance.nSwipeWidth;"toRight"===e?(o*=-1,n++):n--,i&&(n=this.oParentInstance.reAdjustNextNumberForCircular(n)),this.oParentInstance.runSwipeAction(this.option.nDuration,n,o)}},e.prototype.setDisplayOfButton=function(t){var e=this.oParentInstance.nSwipeElementCount-1;t===e?(this.elPrevBtn.style.display="block",this.elNextBtn.style.display="none"):0===t?(this.elPrevBtn.style.display="none",this.elNextBtn.style.display="block"):(this.elPrevBtn.style.display="block",this.elNextBtn.style.display="block")},e.prototype.dockingPluginMethod=function(t){t.option.bCircular||t.registerPluginMethod({FN_COMPONENT_DID_LOAD:this.setDisplayOfButton.bind(this,0),FN_AFTER_SWIPE:this.setDisplayOfButton.bind(this)}),this.oParentInstance=t},e}(CommonComponent),SweetSwipe=function(t){function e(n,i){return _classCallCheck(this,e),_possibleConstructorReturn(this,t.call(this,n,i))}return _inherits(e,t),e.prototype.COMPONENT_CONFIG=function(){return{PLUGINS:["SwipeNavigationPlugin","SwipeStepMoverPlugin"],SELECTOR:{},DEFAULT_COMPONENT_EVENT:["FN_BEFORE_SWIPE","FN_AFTER_SWIPE"],DEFAULT_PLUGIN_EVENT:["FN_BEFORE_SWIPE","FN_AFTER_SWIPE"],DEFAULT_OPTION:{bCircular:!1,nDuration:100,nBackWidth:60,nSideWidth:0,nDecisionSlope:.8,nForcedSwipeTime:0,bSettingScreenHeight:!1,bMouseEventSupport:!1,bTouchEventSupport:!0}}},e.prototype.initValue=function(t){this.option.bSettingScreenHeight&&_cu.setDynamicHeight(0,this.elTarget,this.option.bCircular),this.nSwipeWidth=_cu.getWidth(this.elTarget.firstElementChild),this.nSwipeElementCount=this.elTarget.childElementCount;var e=this.option.bCircular;this.nMaxSwipeRange=e?this.nSwipeWidth:0,this.nMinSwipeRange=e?this.nSwipeElementCount-2:this.nSwipeElementCount-1,this.nMinSwipeRange*=-this.nSwipeWidth,this.nMaxValue=this.nMaxSwipeRange+this.option.nSideWidth,this.nMinValue=this.nMinSwipeRange-this.option.nSideWidth,this.bAnimationing=!1,this.nNextNumber=0,this.recalculateWidth()},e.prototype.registerEvents=function(){var t=this;this.option.bTouchEventSupport&&(this.elTarget.addEventListener("touchstart",function(e){t.handlerTouchStart(e)}),this.elTarget.addEventListener("touchmove",function(e){t.handlerTouchMove(e)}),this.elTarget.addEventListener("touchend",function(e){t.handlerTouchEnd(e)})),this.option.bMouseEventSupport&&(this.elTarget.addEventListener("mousedown",function(e){t.handlerTouchStart(e)}),this.elTarget.addEventListener("mousemove",function(e){t.handlerTouchMove(e)}),this.elTarget.addEventListener("mouseup",function(e){t.handlerTouchEnd(e)})),this.registerTransitionEnd()},e.prototype.handlerTouchStart=function(t){if(t.stopPropagation(),!this.bAnimationing){this.bSwipe=!0,this.bFirstTouchMove=!0;var e="mouse"===t.type.substr(0,5),n=void 0,i=void 0;e?(n=t.pageX,i=t.pageY):(n=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY),this.nStartPosX=Math.floor(n),this.nStartPosY=Math.floor(i),this.nStartTranslateX=_cu.getTranslate3dX(this.elTarget),this.nTouchStartTime=Date.now()}},e.prototype.handlerTouchMove=function(t){if(t.stopPropagation(),!this.bAnimationing&&this.bSwipe){var e="mouse"===t.type.substr(0,5),n=e?t:t.changedTouches[0];if(this.nMovePosX=Math.floor(n.pageX),this.nMovePosY=Math.floor(n.pageY),this.bFirstTouchMove){var i=Math.abs(this.nMovePosY-this.nStartPosY)/Math.abs(this.nMovePosX-this.nStartPosX);if(this.bSwipe=!!(i<=this.option.nDecisionSlope),this.bSwipe===!1)return;this.nPreMoveX=this.nStartPosX}t.preventDefault();var o=this.nMovePosX-this.nPreMoveX,r=0;r=_cu.getTranslate3dX(this.elTarget),this.dragArea(r,o),this.nPreMoveX=this.nMovePosX,this.nPreMoveY=this.nMovePosX,this.bFirstTouchMove=!1}},e.prototype.handlerTouchEnd=function(t){if(t.stopPropagation(),!this.bAnimationing){if(!this.bSwipe)return this.bOutRangeRight=!1,void(this.bOutRangeLeft=!1);var e=0,n=Date.now(),i=n-this.nTouchStartTime,o=_cu.getTranslate3dX(this.elTarget),r=o-this.nStartTranslateX;if(0!==r){var s=!1,a=!1,h=!1,u="";s=Math.abs(r)>this.option.nBackWidth,i<this.option.nForcedSwipeTime&&(a=!0),this.bOutRangeLeft||this.bOutRangeRight||!s&&!a?(u=r>0?"left":"right",e=Math.abs(r)):(h=!0,u=r>0?"right":"left",e=this.nSwipeWidth-Math.abs(r)),this.nNextNumber=this._getNextViewNumber(this.nStartTranslateX,u,h),this.nNextNumber=Math.round(this.nNextNumber),this.option.bCircular&&(this.nNextNumber=this.reAdjustNextNumberForCircular(this.nNextNumber)),"left"===u&&(e=-e),this.runSwipeAction(this.option.nDuration,this.nNextNumber,e),this.bOutRangeRight=!1,this.bOutRangeLeft=!1,this.bSwipe=!1}}},e.prototype.reAdjustNextNumberForCircular=function(t){return t===-1?t=this.nSwipeElementCount-3:t===this.nSwipeElementCount-2&&(t=0),t},e.prototype.runSwipeAction=function(e,n,i){if("undefined"==typeof i){var o=this.nSwipeWidth,r=this.getCurrentViewNumber()-n;i=r*o}this.setNextNumber(n),t.prototype.runCustomFn.call(this,"USER","FN_BEFORE_SWIPE",n),t.prototype.runCustomFn.call(this,"PLUGIN","FN_BEFORE_SWIPE",n),this.runTransition(this.elTarget,i,e/1e3)},e.prototype._restoreTransformXPercent=function(t){var e=this.nSwipeElementCount-3;this.nSwipeWidth;(0===t||t>e)&&_cu.setTranslate3dXPercent(this.elTarget,0)},e.prototype.registerTransitionEnd=function(){var e=this,n=_cu.getCSSTransitionEnd();this.elTarget.addEventListener(n,function(n){var i=_cu.getCSSName("transition");e.elTarget.style[i]="none",_cu.setTranslate3dXPercent(e.elTarget,e.nNextNumber*-100),e.option.bCircular&&e._restoreTransformXPercent(e.nNextNumber),t.prototype.runCustomFn.call(e,"USER","FN_AFTER_SWIPE",e.nNextNumber),t.prototype.runCustomFn.call(e,"PLUGIN","FN_AFTER_SWIPE",e.nNextNumber),e.option.bSettingScreenHeight&&_cu.setDynamicHeight(e.nNextNumber,e.elTarget,e.option.bCircular),e.nNextNumber=0,e.bAnimationing=!1})},e.prototype.setNextNumber=function(t){this.nNextNumber=t},e.prototype.getCurrentViewNumber=function(){var t=Math.abs(_cu.getTranslate3dX(this.elTarget))/this.nSwipeWidth;return Math.round(t)},e.prototype._getNextViewNumber=function(t,e,n){var i=Math.round(-(t/this.nSwipeWidth));return n?"left"===e?++i:--i:i},e.prototype.dragArea=function(t,e){this.bOutRangeRight=!1,this.bOutRangeLeft=!1,t>=this.nMaxSwipeRange&&(this.bOutRangeLeft=!0),t<=this.nMinSwipeRange&&(this.bOutRangeRight=!0);var n=t+e;n>this.nMaxValue&&(n=this.nMaxValue),n<this.nMinValue&&(n=this.nMinValue),_cu.setTranslate3dX(this.elTarget,n)},e.prototype.runTransition=function(t,e,n){this.bAnimationing=!0;var i=_cu.getTranslate3dX(t),o=_cu.getCSSName("transition"),r=_cu.getCSSName("transform"),s="";"webkitTransform"===r?s="-webkit-transform":"transform"===r&&(s="transform"),t.style[o]=s+" "+n+"s",t.style[r]="translate3d("+(i+e)+"px, 0, 0)"},e.prototype.runAutoAnimation=function(t){if(!this.bAnimationing){var e=this.getCurrentViewNumber(),n=this.nSwipeWidth;"toRight"===t?(n*=-1,e++):e--,e=this.reAdjustNextNumberForCircular(e),this.runSwipeAction(this.option.nDuration,e,n)}},e.prototype.recalculateWidth=function(){var t=!1;window.addEventListener("resize",function(){var e=this;t||(t=!0,setTimeout(function(){e.nSwipeWidth=_cu.getWidth(e.elTarget.firstElementChild),t=!1},100))}.bind(this),!1)},e}(CommonComponent);